util.AddNetworkString("qkmenu_cmd")

local movein_sound = Sound("npc/combine_soldier/vo/movein.wav")

net.Receive("qkmenu_cmd", function(len, cl)
	if GetGlobalEntity("Warden") ~= cl then return end
	if GetGlobalEntity("Warden"):Team() ~= TEAM_GUARD then return end
	if not GetGlobalEntity("Warden"):Alive() then return end
	if cl.NextQuickMenu and cl.NextQuickMenu > CurTime() then return end
	
	local hit = cl:GetEyeTrace().HitPos
	
	local effectdata = EffectData()
	effectdata:SetOrigin(hit)
	util.Effect("jb_wp_goto", effectdata, true, true)
	
	sound.Play(movein_sound, hit, 75, 100, 1)
	
	cl.NextQuickMenu = CurTime() + 5
	
end)